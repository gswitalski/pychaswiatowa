<div class="verify-sent-page">
    <mat-card class="verify-sent-card">
        <mat-card-header>
            <mat-icon mat-card-avatar class="email-icon">mail_outline</mat-icon>
            <mat-card-title>Sprawdź skrzynkę e-mail</mat-card-title>
        </mat-card-header>

        <mat-card-content>
            @if (state().email; as email) {
                <p class="message">
                    Wysłaliśmy link aktywacyjny na adres:
                    <strong>{{ email }}</strong>
                </p>
                <p class="hint">
                    Nie widzisz e-maila? Sprawdź folder SPAM lub oferty.
                </p>
            } @else {
                <p class="error-message">
                    Brak adresu e-mail. Wróć do rejestracji i spróbuj ponownie.
                </p>
            }

            @if (state().error; as error) {
                <p class="error-message">{{ error }}</p>
            }
        </mat-card-content>

        <mat-card-actions>
            <button
                mat-stroked-button
                color="primary"
                [disabled]="isResendDisabled"
                (click)="resendVerification()"
            >
                @if (state().isResending) {
                    <mat-spinner diameter="18"></mat-spinner>
                } @else if (state().cooldownRemainingSeconds > 0) {
                    Wyślij ponownie ({{ state().cooldownRemainingSeconds }}s)
                } @else {
                    Wyślij ponownie
                }
            </button>

            <button
                mat-button
                color="accent"
                (click)="navigateToChangeEmail()"
            >
                Zmień e-mail
            </button>
        </mat-card-actions>

        <mat-card-footer>
            <a routerLink="/login" mat-button>
                Masz już konto? Zaloguj się
            </a>
        </mat-card-footer>
    </mat-card>
</div>



