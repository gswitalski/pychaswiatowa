<div class="collections-list-page">
    <pych-page-header title="Moje kolekcje">
        <button
            mat-flat-button
            color="primary"
            (click)="openCreateDialog()"
            [disabled]="isLoading()"
        >
            <mat-icon>add</mat-icon>
            Utwórz kolekcję
        </button>
    </pych-page-header>

    @if (isLoading()) {
        <div class="collections-list-page__content">
            <div class="loading-container">
                <mat-spinner diameter="48"></mat-spinner>
                <p>Ładowanie kolekcji...</p>
            </div>
        </div>
    } @else if (error()) {
        <div class="collections-list-page__content">
            <div class="error-container">
                <mat-icon class="error-icon">error_outline</mat-icon>
                <p>{{ error() }}</p>
                <button mat-stroked-button (click)="loadCollections()">
                    <mat-icon>refresh</mat-icon>
                    Spróbuj ponownie
                </button>
            </div>
        </div>
    } @else if (isEmpty()) {
        <div class="collections-list-page__content">
            <pych-empty-state
                icon="collections_bookmark"
                title="Nie masz jeszcze żadnych kolekcji"
                description="Kolekcje pozwalają na grupowanie przepisów według Twoich preferencji."
            >
                <button mat-flat-button color="primary" (click)="openCreateDialog()">
                    <mat-icon>add</mat-icon>
                    Utwórz pierwszą kolekcję
                </button>
            </pych-empty-state>
        </div>
    } @else {
        <div class="collections-list-page__content">
            <pych-collection-list
                [collections]="collections()"
                (edit)="openEditDialog($event)"
                (delete)="openDeleteDialog($event)"
            />
        </div>
    }
</div>
