<div class="recipe-list-container" [class.is-loading]="isLoading()">
    @if (isLoading() && recipes().length === 0) {
        <div class="loading-overlay">
            <mat-spinner diameter="48"></mat-spinner>
        </div>
    } @else if (recipes().length === 0) {
        <pych-empty-state />
    } @else {
        <div class="recipes-grid">
            @for (recipe of recipes(); track recipe.id) {
                <pych-recipe-card
                    [recipe]="mapToCardData(recipe)"
                    [showRemoveAction]="showRemoveAction()"
                    [isOwnRecipe]="recipe.is_owner"
                    [inMyCollections]="recipe.in_my_collections"
                    (remove)="onRemoveRecipe(recipe.id)"
                />
            }
        </div>

        @if (isLoading()) {
            <div class="loading-indicator">
                <mat-spinner diameter="32"></mat-spinner>
            </div>
        }

        @if (pagination(); as pag) {
            <mat-paginator
                [length]="pag.totalItems"
                [pageSize]="pageSize()"
                [pageIndex]="pag.currentPage - 1"
                [pageSizeOptions]="[6, 12, 24]"
                (page)="onPageChange($event)"
                showFirstLastButtons
            />
        }
    }
</div>

