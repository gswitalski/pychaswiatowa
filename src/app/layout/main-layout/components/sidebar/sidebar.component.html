<div class="sidebar">
    <nav class="sidebar__nav">
        <mat-nav-list>
            @for (item of navigationItems; track item.route) {
                @if (item.route !== '/collections') {
                    <a
                        mat-list-item
                        [routerLink]="item.route"
                        routerLinkActive="active"
                        [routerLinkActiveOptions]="{ exact: item.route === '/dashboard' }"
                        class="sidebar__nav-item"
                        (click)="onNavigate()"
                    >
                        <mat-icon matListItemIcon>{{ item.icon }}</mat-icon>
                        <span matListItemTitle>{{ item.label }}</span>
                    </a>
                }
            }

            <!-- Sekcja drzewa kolekcji (zamiast zwykÅ‚ego linku) -->
            <pych-sidebar-collections-tree (navigationClick)="onNavigate()" />
        </mat-nav-list>
    </nav>

    <div class="sidebar__footer">
        <mat-nav-list>
            <a
                mat-list-item
                routerLink="/recipes/new/start"
                class="sidebar__add-recipe"
                (click)="onNavigate()"
            >
                <mat-icon matListItemIcon>add_circle</mat-icon>
                <span matListItemTitle>Dodaj przepis</span>
            </a>
        </mat-nav-list>
    </div>
</div>

